<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Roadmap Launch Projections</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #7D200E; /* Main background color */
        }
        /* Styling for headers and numbers in results section */
        .results-header {
            color: #5E3321;
        }
        .results-value {
            color: #1F1611;
        }
        .percentage-label {
            color: #5E3321;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-4xl">
        <!-- Branding Element: Logo -->
        <div class="text-center mb-6">
            <img src="https://kamilavonretteg.com/wp-content/uploads/2025/07/kamila-main-cream-scaled.png" alt="Kamila Von Retteg Logo" class="mx-auto rounded-lg max-h-24 object-contain">
        </div>

        <h1 class="text-4xl font-bold text-[#5E3321] text-center mb-4 drop-shadow-sm">Live Roadmap Launch Projections</h1>

        <!-- Introduction Text Section -->
        <div class="text-center text-gray-700 text-sm mb-8 p-4 bg-gray-100 rounded-lg shadow-inner">
            <p class="mb-2">This calculator is exclusively for our clients and should be used alongside guidance from your coach. It's designed to show how even small tweaks in your funnel can create big shifts in your overall results.</p>
            <p>If a field doesnâ€™t apply to your funnel, just leave it blank or type in '0'.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Input Fields - Left Column -->
            <div class="space-y-6">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Inputs</h2>

                <!-- 1. Ad Campaign Details -->
                <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Ad Campaign Details</h3>
                    <div>
                        <label for="adSpend" class="block text-sm font-medium text-gray-700 mb-1">Ad Spend ($)</label>
                        <input type="number" id="adSpend" value="1000" min="0" step="100"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="cpc" class="block text-sm font-medium text-gray-700 mb-1">Cost Per Click (CPC) ($)</label>
                        <input type="number" id="cpc" value="1.50" min="0.01" step="0.01"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="landingPageConversion" class="block text-sm font-medium percentage-label mb-1">Landing Page Conversion (%)</label>
                        <input type="number" id="landingPageConversion" value="30" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <!-- Projected Clicks & Ad Leads result -->
                    <div class="border-t border-gray-200 mt-4 pt-4 space-y-2">
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Projected Clicks:</span>
                            <span id="projectedClicks" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Ad-Generated Leads:</span>
                            <span id="adLeads" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                    </div>
                </div>

                <!-- 2. Lead Generation & Webinar Funnel -->
                <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Lead Generation & Webinar Funnel</h3>
                    <div>
                        <label for="organicLeads" class="block text-sm font-medium text-gray-700 mb-1">Organic Leads Generated</label>
                        <input type="number" id="organicLeads" value="200" min="0" step="1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="showUpRate" class="block text-sm font-medium percentage-label mb-1">Show Up Rate (%)</label>
                        <input type="number" id="showUpRate" value="15" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="viewerStickRate" class="block text-sm font-medium percentage-label mb-1">Viewer Stick Rate (from Show-Ups) (%)</label>
                        <input type="number" id="viewerStickRate" value="70" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="liveBuyConversion" class="block text-sm font-medium percentage-label mb-1">Live Buy Conversion (from Watchers) (%)</label>
                        <input type="number" id="liveBuyConversion" value="10" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="totalLeadsToSalesConversion" class="block text-sm font-medium percentage-label mb-1">Total Conversion from Leads to Sales (%)</label>
                        <input type="number" id="totalLeadsToSalesConversion" value="2" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <!-- Funnel Metrics results -->
                    <div class="border-t border-gray-200 mt-4 pt-4 space-y-2">
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Total Leads:</span>
                            <span id="totalLeads" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Total Show-Ups:</span>
                            <span id="totalShowUps" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Total Watchers:</span>
                            <span id="totalWatchers" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Live Sales (from Watchers):</span>
                            <span id="liveSales" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                        <div class="flex justify-between items-center py-1">
                            <span class="text-gray-700 font-medium">Total Sales (from Leads):</span>
                            <span id="totalSales" class="text-blue-700 font-bold text-lg">0</span>
                        </div>
                    </div>
                </div>

                <!-- 3. Program Pricing & Payment Plans -->
                <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Program Pricing & Payment Plans</h3>
                    <div>
                        <label for="programPifPrice" class="block text-sm font-medium text-gray-700 mb-1">Program PIF Price ($)</label>
                        <input type="number" id="programPifPrice" value="997" min="0" step="1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="pifConversion" class="block text-sm font-medium percentage-label mb-1">PIF Conversion (% of Total Sales)</label>
                        <input type="number" id="pifConversion" value="50" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div>
                            <label for="paymentPlanPrice" class="block text-sm font-medium text-gray-700 mb-1">Payment Plan Total Price ($)</label>
                            <input type="number" id="paymentPlanPrice" value="1182" min="0" step="1"
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                        </div>
                        <div>
                            <label for="paymentPlanPayments" class="block text-sm font-medium text-gray-700 mb-1">Payment Plan # of Payments</label>
                            <input type="number" id="paymentPlanPayments" value="6" min="1" step="1"
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                        </div>
                    </div>
                </div>

                <!-- 4. Optional Pre-Training Mini-Offer -->
                <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Optional Pre-Training Mini-Offer</h3>
                    <div>
                        <label for="preTrainingMiniOfferPrice" class="block text-sm font-medium text-gray-700 mb-1">Mini-Offer Price ($)</label>
                        <input type="number" id="preTrainingMiniOfferPrice" value="27" min="0" step="1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                    <div class="mt-4">
                        <label for="preTrainingMiniOfferConversion" class="block text-sm font-medium percentage-label mb-1">Mini-Offer Conversion (% of Leads)</label>
                        <input type="number" id="preTrainingMiniOfferConversion" value="3" min="0" max="100" step="0.1"
                               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 shadow-sm">
                    </div>
                </div>

            </div>

            <!-- Results Display - Right Column -->
            <div class="space-y-6 bg-[#F1E2C7] p-6 rounded-xl shadow-inner">
                <h2 class="text-xl font-semibold results-header mb-4">Projected Results</h2>

                <!-- 1. Revenue Breakdown -->
                <div class="p-4 bg-[#fdf9f3] rounded-lg shadow-sm">
                    <h3 class="text-lg font-medium results-header mb-3">Revenue Breakdown</h3>
                    <div class="flex justify-between items-center py-2 border-b border-blue-200">
                        <span class="text-gray-700 font-medium">Revenue from PIF Sales:</span>
                        <span id="revenuePif" class="font-bold text-lg results-value">$0.00</span>
                    </div>
                    <div class="flex justify-between items-center py-2 border-b border-blue-200">
                        <span class="text-gray-700 font-medium">Revenue from Payment Plan Sales:</span>
                        <span id="revenuePaymentPlan" class="font-bold text-lg results-value">$0.00</span>
                    </div>
                    <div class="flex justify-between items-center py-2">
                        <span class="text-gray-700 font-medium">Revenue from Mini-Offer:</span>
                        <span id="revenueMiniOffer" class="font-bold text-lg results-value">$0.00</span>
                    </div>
                </div>

                <!-- 2. Overall Financials -->
                <div class="p-4 bg-[#fdf9f3] rounded-lg shadow-sm">
                    <h3 class="text-lg font-medium results-header mb-3">Overall Financials</h3>
                    <div class="flex justify-between items-center py-2 border-b border-blue-200">
                        <span class="text-gray-700 font-medium">Total Gross Revenue:</span>
                        <span id="totalGrossRevenue" class="font-bold text-lg results-value">$0.00</span>
                    </div>
                    <div class="flex justify-between items-center py-2 border-b border-blue-200">
                        <span class="text-gray-700 font-medium">Total Profit:</span>
                        <span id="totalProfit" class="font-bold text-lg">$0.00</span>
                    </div>
                    <div class="flex justify-between items-center py-2">
                        <span class="text-gray-700 font-medium">Return On Ad Spend (ROAS):</span>
                        <span id="totalRoas" class="font-bold text-lg">0.00x</span>
                    </div>
                </div>

            </div>
        </div>

        <div id="errorMessage" class="text-red-600 text-center mt-4 hidden">
            Please ensure all input values are valid and positive. Conversion rates should be between 0 and 100.
        </div>

        <!-- Support Section -->
        <div class="text-center text-gray-700 text-sm mt-8 p-4 bg-gray-100 rounded-lg shadow-inner">
            <p class="mb-4">For more support, go into your client community or reach out to your coach for support.</p>
            <p class="mb-4">For more information, click below:</p>
            <a href="https://www.kamilavonretteg.com" target="_blank" rel="noopener noreferrer"
               class="inline-block px-6 py-3 rounded-lg font-semibold text-white shadow-md transition-transform transform hover:scale-105"
               style="background-color: #5E3321;">
                Visit Our Website
            </a>
        </div>
    </div>

    <script>
        // Get references to input elements
        const adSpendInput = document.getElementById('adSpend');
        const cpcInput = document.getElementById('cpc');
        const landingPageConversionInput = document.getElementById('landingPageConversion');
        const organicLeadsInput = document.getElementById('organicLeads');
        const showUpRateInput = document.getElementById('showUpRate');
        const viewerStickRateInput = document.getElementById('viewerStickRate'); // Renamed input
        const liveBuyConversionInput = document.getElementById('liveBuyConversion');
        const totalLeadsToSalesConversionInput = document.getElementById('totalLeadsToSalesConversion');
        const programPifPriceInput = document.getElementById('programPifPrice');
        const pifConversionInput = document.getElementById('pifConversion');
        const paymentPlanPriceInput = document.getElementById('paymentPlanPrice');
        const paymentPlanPaymentsInput = document.getElementById('paymentPlanPayments');
        const preTrainingMiniOfferPriceInput = document.getElementById('preTrainingMiniOfferPrice');
        const preTrainingMiniOfferConversionInput = document.getElementById('preTrainingMiniOfferConversion');

        // Get references to output elements
        const projectedClicksSpan = document.getElementById('projectedClicks');
        const adLeadsSpan = document.getElementById('adLeads');
        const totalLeadsSpan = document.getElementById('totalLeads');
        const totalShowUpsSpan = document.getElementById('totalShowUps');
        const totalWatchersSpan = document.getElementById('totalWatchers');
        const liveSalesSpan = document.getElementById('liveSales');
        const totalSalesSpan = document.getElementById('totalSales'); // Total sales based on leads to sales conversion
        const revenuePifSpan = document.getElementById('revenuePif');
        const revenuePaymentPlanSpan = document.getElementById('revenuePaymentPlan');
        const revenueMiniOfferSpan = document.getElementById('revenueMiniOffer');
        const totalGrossRevenueSpan = document.getElementById('totalGrossRevenue');
        const totalNetRevenueSpan = document.getElementById('totalNetRevenue'); // Removed from HTML, but kept in JS for calculation
        const totalProfitSpan = document.getElementById('totalProfit');
        const totalRoasSpan = document.getElementById('totalRoas');

        const errorMessageDiv = document.getElementById('errorMessage');

        /**
         * Formats a number as a currency string.
         * @param {number} amount - The number to format.
         * @returns {string} The formatted currency string.
         */
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(amount);
        }

        /**
         * Formats a number as a percentage string.
         * @param {number} value - The number to format (e.g., 0.05 for 5%).
         * @returns {string} The formatted percentage string.
         */
        function formatPercentage(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'percent',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(value);
        }

        /**
         * Applies conditional styling to ROAS span.
         * @param {HTMLElement} spanElement - The span element to style.
         * @param {number} roasValue - The ROAS value.
         */
        function styleRoas(spanElement, roasValue) {
            if (!spanElement) return;

            spanElement.classList.remove('text-red-700', 'text-green-700', 'text-gray-700');
            spanElement.classList.add('results-value'); 

            let roasText = roasValue.toFixed(2) + 'x';

            if (roasValue < 1) {
                spanElement.classList.add('text-red-700');
            } else if (roasValue >= 1 && roasValue < 2) {
                spanElement.classList.add('text-green-700');
            } else { // roasValue >= 2
                spanElement.classList.add('text-green-700');
                roasText += ' ðŸŽ‰';
            }
            spanElement.textContent = roasText;
        }

        /**
         * Applies conditional styling to Profit span.
         * @param {HTMLElement} spanElement - The span element to style.
         * @param {number} profitValue - The profit value.
         */
        function styleProfit(spanElement, profitValue) {
            if (!spanElement) return;

            spanElement.classList.remove('text-red-700', 'text-green-700', 'text-gray-700');
            spanElement.classList.add('results-value'); 

            if (profitValue < 0) {
                spanElement.classList.add('text-red-700');
            } else {
                spanElement.classList.add('text-green-700');
            }
            spanElement.textContent = formatCurrency(profitValue);
        }

        /**
         * Performs the calculations based on current input values and updates the display.
         */
        function calculateProjections() {
            // Get values from inputs
            const adSpend = parseFloat(adSpendInput.value);
            const cpc = parseFloat(cpcInput.value);
            const landingPageConversion = parseFloat(landingPageConversionInput.value) / 100;
            const organicLeads = parseFloat(organicLeadsInput.value);
            const showUpRate = parseFloat(showUpRateInput.value) / 100;
            const viewerStickRate = parseFloat(viewerStickRateInput.value) / 100; // Renamed input value
            const liveBuyConversion = parseFloat(liveBuyConversionInput.value) / 100;
            const totalLeadsToSalesConversion = parseFloat(totalLeadsToSalesConversionInput.value) / 100;
            const programPifPrice = parseFloat(programPifPriceInput.value);
            const pifConversion = parseFloat(pifConversionInput.value) / 100; // % of total sales
            const paymentPlanPrice = parseFloat(paymentPlanPriceInput.value);
            const paymentPlanPayments = parseFloat(paymentPlanPaymentsInput.value);
            const preTrainingMiniOfferPrice = parseFloat(preTrainingMiniOfferPriceInput.value);
            const preTrainingMiniOfferConversion = parseFloat(preTrainingMiniOfferConversionInput.value) / 100;

            // Basic validation
            const inputs = [
                adSpend, cpc, landingPageConversion, organicLeads, showUpRate,
                viewerStickRate, liveBuyConversion, totalLeadsToSalesConversion, // Renamed input in validation
                programPifPrice, pifConversion, paymentPlanPrice, paymentPlanPayments,
                preTrainingMiniOfferPrice, preTrainingMiniOfferConversion
            ];

            const isValid = inputs.every(val => !isNaN(val) && val >= 0) &&
                            cpc > 0 &&
                            landingPageConversion >= 0 && landingPageConversion <= 1 &&
                            showUpRate >= 0 && showUpRate <= 1 &&
                            viewerStickRate >= 0 && viewerStickRate <= 1 && // Validate renamed input
                            liveBuyConversion >= 0 && liveBuyConversion <= 1 &&
                            totalLeadsToSalesConversion >= 0 && totalLeadsToSalesConversion <= 1 &&
                            pifConversion >= 0 && pifConversion <= 1 &&
                            preTrainingMiniOfferConversion >= 0 && preTrainingMiniOfferConversion <= 1;

            if (!isValid) {
                errorMessageDiv.classList.remove('hidden');
                // Reset outputs if invalid
                if (projectedClicksSpan) projectedClicksSpan.textContent = 'N/A';
                if (adLeadsSpan) adLeadsSpan.textContent = 'N/A';
                if (totalLeadsSpan) totalLeadsSpan.textContent = 'N/A';
                if (totalShowUpsSpan) totalShowUpsSpan.textContent = 'N/A';
                if (totalWatchersSpan) totalWatchersSpan.textContent = 'N/A';
                if (liveSalesSpan) liveSalesSpan.textContent = 'N/A';
                if (totalSalesSpan) totalSalesSpan.textContent = 'N/A';
                if (revenuePifSpan) revenuePifSpan.textContent = formatCurrency(0);
                if (revenuePaymentPlanSpan) revenuePaymentPlanSpan.textContent = formatCurrency(0);
                if (revenueMiniOfferSpan) revenueMiniOfferSpan.textContent = formatCurrency(0);
                if (totalGrossRevenueSpan) totalGrossRevenueSpan.textContent = formatCurrency(0);
                if (totalNetRevenueSpan) totalNetRevenueSpan.textContent = formatCurrency(0);
                styleProfit(totalProfitSpan, 0);
                styleRoas(totalRoasSpan, 0);
                console.error("Validation failed. Inputs:", inputs);
                return;
            } else {
                errorMessageDiv.classList.add('hidden');
            }

            // --- Calculations ---
            const projectedClicks = cpc > 0 ? adSpend / cpc : 0;
            const adLeads = projectedClicks * landingPageConversion;
            const totalLeads = adLeads + organicLeads;
            const totalShowUps = totalLeads * showUpRate;
            const totalWatchers = totalShowUps * viewerStickRate; // Renamed input used here
            const liveSales = totalWatchers * liveBuyConversion;
            const totalSales = totalLeads * totalLeadsToSalesConversion; // This is the overarching sales number

            const numPifCustomers = totalSales * pifConversion;
            const numPaymentPlanCustomers = totalSales * (1 - pifConversion);

            const revenuePif = numPifCustomers * programPifPrice;
            const revenuePaymentPlan = numPaymentPlanCustomers * paymentPlanPrice;
            const revenueMiniOffer = totalLeads * preTrainingMiniOfferConversion * preTrainingMiniOfferPrice;

            const totalGrossRevenue = revenuePif + revenuePaymentPlan + revenueMiniOffer;
            const totalNetRevenue = totalGrossRevenue; // No refunds
            const totalProfit = totalNetRevenue - adSpend;
            const totalRoas = adSpend > 0 ? totalNetRevenue / adSpend : 0;

            // --- Update Display ---
            if (projectedClicksSpan) projectedClicksSpan.textContent = Math.round(projectedClicks).toLocaleString();
            if (adLeadsSpan) adLeadsSpan.textContent = Math.round(adLeads).toLocaleString();
            if (totalLeadsSpan) totalLeadsSpan.textContent = Math.round(totalLeads).toLocaleString();
            if (totalShowUpsSpan) totalShowUpsSpan.textContent = Math.round(totalShowUps).toLocaleString();
            if (totalWatchersSpan) totalWatchersSpan.textContent = Math.round(totalWatchers).toLocaleString();
            if (liveSalesSpan) liveSalesSpan.textContent = Math.round(liveSales).toLocaleString();
            if (totalSalesSpan) totalSalesSpan.textContent = Math.round(totalSales).toLocaleString();

            if (revenuePifSpan) { revenuePifSpan.textContent = formatCurrency(revenuePif); revenuePifSpan.classList.add('results-value'); }
            if (revenuePaymentPlanSpan) { revenuePaymentPlanSpan.textContent = formatCurrency(revenuePaymentPlan); revenuePaymentPlanSpan.classList.add('results-value'); }
            if (revenueMiniOfferSpan) { revenueMiniOfferSpan.textContent = formatCurrency(revenueMiniOffer); revenueMiniOfferSpan.classList.add('results-value'); }

            if (totalGrossRevenueSpan) { totalGrossRevenueSpan.textContent = formatCurrency(totalGrossRevenue); totalGrossRevenueSpan.classList.add('results-value'); }
            // totalNetRevenueSpan is removed from HTML, no need to update it
            styleProfit(totalProfitSpan, totalProfit);
            styleRoas(totalRoasSpan, totalRoas);
        }

        // Add event listeners to all input fields to trigger calculation on change
        const inputElements = document.querySelectorAll('input[type="number"]');
        inputElements.forEach(input => {
            input.addEventListener('input', calculateProjections);
        });

        // Initial calculation when the page loads
        document.addEventListener('DOMContentLoaded', calculateProjections);
    </script>
</body>
</html>
